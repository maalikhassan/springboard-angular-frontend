<div class="ml-2 min-h-screen bg-gray-50 p-8">

  <div class="flex gap-8">

   <div class="w-1/3 bg-white p-6 rounded-lg shadow-sm">
      <h2 class="text-xl font-semibold mb-6">Create Company</h2>
      <form [formGroup] = "companyForm" (ngSubmit)="onSubmit()">
        <input type="hidden" name="id" formControlName="id">
        <div class="relative z-0 w- full mb-5 group">
          <input type="text" name="name" id="name" class="block py-2.5 px-0 w-full text-sm text-heading bg-transparent border-0 border-b-2 border-default-medium appearance-none focus:outline-none focus:ring-0 focus:border-brand peer" formControlName="name"/>
          <label for="name" class="absolute text-sm text-body duration-300 transform -translate-y-6 scale-75 top-3 -z-10 origin-[0] peer-focus:start-0 peer-focus:text-fg-brand peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6 rtl:peer-focus:translate-x-1/4 rtl:peer-focus:left-auto">Company name</label>
        </div>
        <div class="relative z-0 w-full mb-5 group">
          <input type="text" name="address" id="address" class="block py-2.5 px-0 w-full text-sm text-heading bg-transparent border-0 border-b-2 border-default-medium appearance-none focus:outline-none focus:ring-0 focus:border-brand peer" formControlName="address" />
          <label for="address" class="absolute text-sm text-body duration-300 transform -translate-y-6 scale-75 top-3 -z-10 origin-[0] peer-focus:start-0 peer-focus:text-fg-brand peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6 rtl:peer-focus:translate-x-1/4 rtl:peer-focus:left-auto">Company Address</label>
        </div>
        <div class="relative z-0 w-full mb-5 group">
          <input type="text" name="city" id="city" class="block py-2.5 px-0 w-full text-sm text-heading bg-transparent border-0 border-b-2 border-default-medium appearance-none focus:outline-none focus:ring-0 focus:border-brand peer" formControlName="city" />
          <label for="city" class="absolute text-sm text-body duration-300 transform -translate-y-6 scale-75 top-3 -z-10 origin-[0] peer-focus:start-0 peer-focus:text-fg-brand peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6 rtl:peer-focus:translate-x-1/4 rtl:peer-focus:left-auto">Company City</label>
        </div>
        <div class="relative z-0 w-full mb-5 group">
          <input type="text" name="country" id="country" class="block py-2.5 px-0 w-full text-sm text-heading bg-transparent border-0 border-b-2 border-default-medium appearance-none focus:outline-none focus:ring-0 focus:border-brand peer" formControlName="country" />
          <label for="country" class="absolute text-sm text-body duration-300 transform -translate-y-6 scale-75 top-3 -z-10 origin-[0] peer-focus:start-0 peer-focus:text-fg-brand peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6 rtl:peer-focus:translate-x-1/4 rtl:peer-focus:left-auto">Company Country</label>
        </div>
        <div class="relative z-0 w-full mb-5 group">
          <input type="text" name="phone" id="phone" class="block py-2.5 px-0 w-full text-sm text-heading bg-transparent border-0 border-b-2 border-default-medium appearance-none focus:outline-none focus:ring-0 focus:border-brand peer" formControlName="phone" />
          <label for="phone" class="absolute text-sm text-body duration-300 transform -translate-y-6 scale-75 top-3 -z-10 origin-[0] peer-focus:start-0 peer-focus:text-fg-brand peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6 rtl:peer-focus:translate-x-1/4 rtl:peer-focus:left-auto">Company Phone</label>
        </div>
        <div class="relative z-0 w-full mb-5 group">
          <input type="email" name="email" id="email" class="block py-2.5 px-0 w-full text-sm text-heading bg-transparent border-0 border-b-2 border-default-medium appearance-none focus:outline-none focus:ring-0 focus:border-brand peer" formControlName="email"  />
          <label for="email" class="absolute text-sm text-body duration-300 transform -translate-y-6 scale-75 top-3 -z-10 origin-[0] peer-focus:start-0 peer-focus:text-fg-brand peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6 rtl:peer-focus:translate-x-1/4 rtl:peer-focus:left-auto">Company Email address</label>
        </div>
        <div class="relative z-0 w-full mb-5 group">
          <input type="url" name="website" id="website" class="block py-2.5 px-0 w-full text-sm text-heading bg-transparent border-0 border-b-2 border-default-medium appearance-none focus:outline-none focus:ring-0 focus:border-brand peer" formControlName="website"  />
          <label for="website" class="absolute text-sm text-body duration-300 transform -translate-y-6 scale-75 top-3 -z-10 origin-[0] peer-focus:start-0 peer-focus:text-fg-brand peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6 rtl:peer-focus:translate-x-1/4 rtl:peer-focus:left-auto">Company WebSite</label>
        </div>
        <div class="relative z-0 w-full mb-5 group">
          <input type="text" name="description" id="description" class="block py-2.5 px-0 w-full text-sm text-heading bg-transparent border-0 border-b-2 border-default-medium appearance-none focus:outline-none focus:ring-0 focus:border-brand peer" formControlName="description" />
          <label for="description" class="absolute text-sm text-body duration-300 transform -translate-y-6 scale-75 top-3 -z-10 origin-[0] peer-focus:start-0 peer-focus:text-fg-brand peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6 rtl:peer-focus:translate-x-1/4 rtl:peer-focus:left-auto">Description</label>
        </div>
        <button type="submit" class="text-white bg-brand box-border border border-transparent hover:bg-brand-strong focus:ring-4 focus:ring-brand-medium shadow-xs font-medium leading-5 rounded-base text-sm px-4 py-2.5 focus:outline-none">Submit</button> &nbsp;
        <button type="button" (click)="updateCompany()" class="text-white bg-success box-border border border-transparent hover:bg-brand-strong focus:ring-4 focus:ring-brand-medium shadow-xs font-medium leading-5 rounded-base text-sm px-4 py-2.5 focus:outline-none">Update</button> &nbsp;
        <button type="button" (click)="clearForm()" class="text-white bg-warning  box-border border border-transparent hover:bg-brand-strong focus:ring-4 focus:ring-brand-medium shadow-xs font-medium leading-5 rounded-base text-sm px-4 py-2.5 focus:outline-none">Clear</button>
      </form>
    </div>

    <div class="w-2/3 bg-white p-1 rounded-lg shadow-sm">
      <div class="flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between px-4 py-3 border-b border-default">
        <div class="text-sm text-body">
          Showing <span class="font-medium text-heading">{{ pageStartIndex }}</span>
          to <span class="font-medium text-heading">{{ pageEndIndex }}</span>
          of <span class="font-medium text-heading">{{ companies.length }}</span>
        </div>

        <div class="flex items-center gap-2">
          <label class="text-sm text-body" for="pageSize">Rows</label>
          <select id="pageSize"
                  class="bg-neutral-secondary-medium border border-default-medium text-heading text-sm rounded-base px-2 py-1.5"
                  [value]="pageSize"
                  (change)="onPageSizeChange($event)">
            <option value="5">5</option>
            <option value="10">10</option>
            <option value="20">20</option>
          </select>

        </div>
      </div>
      <table class="w-full text-sm text-left rtl:text-right text-body">
        <thead class="bg-neutral-secondary-soft border-b border-default">
        <tr>
          <th scope="col" class="px-6 py-3 font-medium">#</th>
          <th scope="col" class="px-6 py-3 font-medium">
            Company name
          </th>
          <th scope="col" class="px-6 py-3 font-medium">
            Company Phone
          </th>
          <th scope="col" class="px-6 py-3 font-medium">
            Company Email
          </th>
          <th scope="col" class="px-6 py-3 font-medium">
            Company Website
          </th>
          <th scope="col" class="px-6 py-3 font-medium">
            Action
          </th>
        </tr>
        </thead>
        <tbody class="divide-y divide-default">
          @for (company of pagedCompany; track company.id) {
            <tr class="bg-white hover:bg-neutral-secondary-medium/40 transition-colors">
              <td class="px-6 py-3 text-body">
                {{ (currentPage - 1) * pageSize + $index + 1 }}
              </td>
              <td class="px-6 py-3">{{ company.name }}</td>
              <td class="px-6 py-3">{{ company.phone }}</td>
              <td class="px-6 py-3">{{ company.email }}</td>
              <td class="px-6 py-3">{{ company.website }}</td>
              <td class="px-6 py-3">
                <div class="flex items-center gap-2">
                  <button type="button" (click)="editCompany(company.id)"
                          class="text-white bg-brand hover:bg-brand-strong text-xs px-3 py-1.5 rounded-md">
                    Edit
                  </button>
                  <button type="button" (click)="deleteCompany(company.id)"
                          class="text-white bg-danger hover:bg-red-700 text-xs px-3 py-1.5 rounded-md">
                    Delete
                  </button>
                </div>
              </td>
            </tr>
          }
          @empty {
            <tr>
              <td class="px-6 py-8 text-center text-body" colspan="7">
                No companys found.
              </td>
            </tr>
          }
        </tbody>
      </table>
      <div class="flex items-center justify-between px-4 py-3 border-t border-default">
        <button type="button"
                class="text-sm px-3 py-1.5 rounded-base border border-default hover:bg-neutral-secondary-medium disabled:opacity-50"
                (click)="prevPage()"
                [disabled]="currentPage === 1">
          Previous
        </button>

        <div class="text-sm text-body">
          Page <span class="font-medium text-heading">{{ currentPage }}</span> of
          <span class="font-medium text-heading">{{ totalPages || 1 }}</span>
        </div>

        <button type="button"
                class="text-sm px-3 py-1.5 rounded-base border border-default hover:bg-neutral-secondary-medium disabled:opacity-50"
                (click)="nextPage()"
                [disabled]="currentPage === totalPages || totalPages === 0">
          Next
        </button>
      </div>
    </div>

  </div>
</div>






